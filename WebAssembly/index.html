


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal fork of Go Programming Language Wiki">
      
      
        <link rel="canonical" href="https://zchee.github.io/golang-wiki/WebAssembly/">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.1">
    
    
      
        <title>WebAssembly - Go Programming Language Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a676eddb.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.b302131d.min.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-89201129-1","https://zchee.github.io/golang-wiki/"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#webassembly" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://zchee.github.io/golang-wiki/" title="Go Programming Language Wiki" class="md-header-nav__button md-logo" aria-label="Go Programming Language Wiki">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Go Programming Language Wiki
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              WebAssembly
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/zchee/golang-wiki/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    zchee/golang-wiki
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://zchee.github.io/golang-wiki/" title="Go Programming Language Wiki" class="md-nav__button md-logo" aria-label="Go Programming Language Wiki">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    Go Programming Language Wiki
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/zchee/golang-wiki/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    zchee/golang-wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../Home/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      WhyGo
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="WhyGo" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        WhyGo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../WhyGo/" title="WhyGo" class="md-nav__link">
      WhyGo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Install
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Install" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Ubuntu/" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../InstallFromSource/" title="Source" class="md-nav__link">
      Source
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Articles/" title="Articles" class="md-nav__link">
      Articles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../AssemblyPolicy/" title="AssemblyPolicy" class="md-nav__link">
      AssemblyPolicy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../AVX512/" title="AVX512" class="md-nav__link">
      AVX512
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Benchmarks/" title="Benchmarks" class="md-nav__link">
      Benchmarks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Blogs/" title="Blogs" class="md-nav__link">
      Blogs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Books/" title="Books" class="md-nav__link">
      Books
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../BoundingResourceUse/" title="BoundingResourceUse" class="md-nav__link">
      BoundingResourceUse
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cgo/" title="cgo" class="md-nav__link">
      cgo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ChromeOS/" title="ChromeOS" class="md-nav__link">
      ChromeOS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CodeReview/" title="CodeReview" class="md-nav__link">
      CodeReview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CodeReviewComments/" title="CodeReviewComments" class="md-nav__link">
      CodeReviewComments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CodeTools/" title="CodeTools" class="md-nav__link">
      CodeTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Comments/" title="Comments" class="md-nav__link">
      Comments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CommitMessage/" title="CommitMessage" class="md-nav__link">
      CommitMessage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CommonMistakes/" title="CommonMistakes" class="md-nav__link">
      CommonMistakes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CompilerOptimizations/" title="CompilerOptimizations" class="md-nav__link">
      CompilerOptimizations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Conferences/" title="Conferences" class="md-nav__link">
      Conferences
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Configuring-GoLand-for-WebAssembly/" title="Configuring-GoLand-for-WebAssembly" class="md-nav__link">
      Configuring-GoLand-for-WebAssembly
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Contributing-to-gopls/" title="Contributing-to-gopls" class="md-nav__link">
      Contributing-to-gopls
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CoreDumpDebugging/" title="CoreDumpDebugging" class="md-nav__link">
      CoreDumpDebugging
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Courses/" title="Courses" class="md-nav__link">
      Courses
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CreatingSubRepository/" title="CreatingSubRepository" class="md-nav__link">
      CreatingSubRepository
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CSSStyleGuide/" title="CSSStyleGuide" class="md-nav__link">
      CSSStyleGuide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CustomPprofProfiles/" title="CustomPprofProfiles" class="md-nav__link">
      CustomPprofProfiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Darwin/" title="Darwin" class="md-nav__link">
      Darwin
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DashboardBuilders/" title="DashboardBuilders" class="md-nav__link">
      DashboardBuilders
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Deprecated/" title="Deprecated" class="md-nav__link">
      Deprecated
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DesignDocuments/" title="DesignDocuments" class="md-nav__link">
      DesignDocuments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DevExp/" title="DevExp" class="md-nav__link">
      DevExp
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Diagnostics/" title="Diagnostics" class="md-nav__link">
      Diagnostics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DragonFly-BSD/" title="DragonFly-BSD" class="md-nav__link">
      DragonFly-BSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Errors/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ErrorValueFAQ/" title="ErrorValueFAQ" class="md-nav__link">
      ErrorValueFAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ExperienceReports/" title="ExperienceReports" class="md-nav__link">
      ExperienceReports
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FileTreeDocumentation/" title="FileTreeDocumentation" class="md-nav__link">
      FileTreeDocumentation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FreeBSD/" title="FreeBSD" class="md-nav__link">
      FreeBSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FromXToGo/" title="FromXToGo" class="md-nav__link">
      FromXToGo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Frozen/" title="Frozen" class="md-nav__link">
      Frozen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Gardening/" title="Gardening" class="md-nav__link">
      Gardening
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GccgoCrossCompilation/" title="GccgoCrossCompilation" class="md-nav__link">
      GccgoCrossCompilation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GcToolchainTricks/" title="GcToolchainTricks" class="md-nav__link">
      GcToolchainTricks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GerritAccess/" title="GerritAccess" class="md-nav__link">
      GerritAccess
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GerritBot/" title="GerritBot" class="md-nav__link">
      GerritBot
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GithubAccess/" title="GithubAccess" class="md-nav__link">
      GithubAccess
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GitHubCodeLayout/" title="GitHubCodeLayout" class="md-nav__link">
      GitHubCodeLayout
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-1.10-Release-Party/" title="Go-1.10-Release-Party" class="md-nav__link">
      Go-1.10-Release-Party
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-1.6-release-party/" title="Go-1.6-release-party" class="md-nav__link">
      Go-1.6-release-party
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-1.8-Release-Party/" title="Go-1.8-Release-Party" class="md-nav__link">
      Go-1.8-Release-Party
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-Community-Slides/" title="Go-Community-Slides" class="md-nav__link">
      Go-Community-Slides
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-Release-Cycle/" title="Go-Release-Cycle" class="md-nav__link">
      Go-Release-Cycle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go1point1Gotchas/" title="Go1point1Gotchas" class="md-nav__link">
      Go1point1Gotchas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2/" title="Go2" class="md-nav__link">
      Go2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2ErrorHandlingFeedback/" title="Go2ErrorHandlingFeedback" class="md-nav__link">
      Go2ErrorHandlingFeedback
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2ErrorValuesFeedback/" title="Go2ErrorValuesFeedback" class="md-nav__link">
      Go2ErrorValuesFeedback
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2GenericsFeedback/" title="Go2GenericsFeedback" class="md-nav__link">
      Go2GenericsFeedback
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoArm/" title="GoArm" class="md-nav__link">
      GoArm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoForCPPProgrammers/" title="GoForCPPProgrammers" class="md-nav__link">
      GoForCPPProgrammers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoGenerateTools/" title="GoGenerateTools" class="md-nav__link">
      GoGenerateTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoGetProxyConfig/" title="GoGetProxyConfig" class="md-nav__link">
      GoGetProxyConfig
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoGetTools/" title="GoGetTools" class="md-nav__link">
      GoGetTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../golang-tools/" title="golang-tools" class="md-nav__link">
      golang-tools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoMips/" title="GoMips" class="md-nav__link">
      GoMips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Gomote/" title="Gomote" class="md-nav__link">
      Gomote
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GOPATH/" title="GOPATH" class="md-nav__link">
      GOPATH
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Gopher/" title="Gopher" class="md-nav__link">
      Gopher
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gopherbot/" title="gopherbot" class="md-nav__link">
      gopherbot
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gopls-integrator-FAQ/" title="gopls-integrator-FAQ" class="md-nav__link">
      gopls-integrator-FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gopls/" title="gopls" class="md-nav__link">
      gopls
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoStrings/" title="GoStrings" class="md-nav__link">
      GoStrings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoTalks/" title="GoTalks" class="md-nav__link">
      GoTalks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoUserGroups/" title="GoUserGroups" class="md-nav__link">
      GoUserGroups
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoUsers/" title="GoUsers" class="md-nav__link">
      GoUsers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoVsGenerics/" title="GoVsGenerics" class="md-nav__link">
      GoVsGenerics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HandlingIssues/" title="HandlingIssues" class="md-nav__link">
      HandlingIssues
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Hashing/" title="Hashing" class="md-nav__link">
      Hashing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump13/" title="heapdump13" class="md-nav__link">
      heapdump13
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump14/" title="heapdump14" class="md-nav__link">
      heapdump14
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump15-through-heapdump17/" title="heapdump15-through-heapdump17" class="md-nav__link">
      heapdump15-through-heapdump17
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump15/" title="heapdump15" class="md-nav__link">
      heapdump15
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HostedContinuousIntegration/" title="HostedContinuousIntegration" class="md-nav__link">
      HostedContinuousIntegration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../How-to-ask-for-help/" title="How-to-ask-for-help" class="md-nav__link">
      How-to-ask-for-help
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HowToAsk/" title="HowToAsk" class="md-nav__link">
      HowToAsk
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HttpFetch/" title="HttpFetch" class="md-nav__link">
      HttpFetch
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HttpStaticFiles/" title="HttpStaticFiles" class="md-nav__link">
      HttpStaticFiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../IDEsAndTextEditorPlugins/" title="IDEsAndTextEditorPlugins" class="md-nav__link">
      IDEsAndTextEditorPlugins
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../InstallFromSource/" title="InstallFromSource" class="md-nav__link">
      InstallFromSource
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../InstallTroubleshooting/" title="InstallTroubleshooting" class="md-nav__link">
      InstallTroubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../InterfaceSlice/" title="InterfaceSlice" class="md-nav__link">
      InterfaceSlice
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../InvalidFlag/" title="InvalidFlag" class="md-nav__link">
      InvalidFlag
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Iota/" title="Iota" class="md-nav__link">
      Iota
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../IssueLabels/" title="IssueLabels" class="md-nav__link">
      IssueLabels
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Learn/" title="Learn" class="md-nav__link">
      Learn
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnConcurrency/" title="LearnConcurrency" class="md-nav__link">
      LearnConcurrency
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnErrorHandling/" title="LearnErrorHandling" class="md-nav__link">
      LearnErrorHandling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnServerProgramming/" title="LearnServerProgramming" class="md-nav__link">
      LearnServerProgramming
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnTesting/" title="LearnTesting" class="md-nav__link">
      LearnTesting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Linux/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LinuxKernelSignalVectorBug/" title="LinuxKernelSignalVectorBug" class="md-nav__link">
      LinuxKernelSignalVectorBug
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LockOSThread/" title="LockOSThread" class="md-nav__link">
      LockOSThread
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MethodSets/" title="MethodSets" class="md-nav__link">
      MethodSets
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MinimumRequirements/" title="MinimumRequirements" class="md-nav__link">
      MinimumRequirements
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MinorReleases/" title="MinorReleases" class="md-nav__link">
      MinorReleases
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Modules/" title="Modules" class="md-nav__link">
      Modules
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MultipleGoRoots/" title="MultipleGoRoots" class="md-nav__link">
      MultipleGoRoots
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MutexOrChannel/" title="MutexOrChannel" class="md-nav__link">
      MutexOrChannel
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NativeClient/" title="NativeClient" class="md-nav__link">
      NativeClient
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NetBSD/" title="NetBSD" class="md-nav__link">
      NetBSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NewSpeakers/" title="NewSpeakers" class="md-nav__link">
      NewSpeakers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NoMeToo/" title="NoMeToo" class="md-nav__link">
      NoMeToo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NonEnglish/" title="NonEnglish" class="md-nav__link">
      NonEnglish
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NoPlusOne/" title="NoPlusOne" class="md-nav__link">
      NoPlusOne
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../OlderVersions/" title="OlderVersions" class="md-nav__link">
      OlderVersions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../OpenBSD/" title="OpenBSD" class="md-nav__link">
      OpenBSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PackageManagementTools/" title="PackageManagementTools" class="md-nav__link">
      PackageManagementTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PackagePublishing/" title="PackagePublishing" class="md-nav__link">
      PackagePublishing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PanicAndRecover/" title="PanicAndRecover" class="md-nav__link">
      PanicAndRecover
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PerfDashboard/" title="PerfDashboard" class="md-nav__link">
      PerfDashboard
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Performance/" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Plan9/" title="Plan9" class="md-nav__link">
      Plan9
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Podcasts/" title="Podcasts" class="md-nav__link">
      Podcasts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PortingPolicy/" title="PortingPolicy" class="md-nav__link">
      PortingPolicy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PriorDiscussion/" title="PriorDiscussion" class="md-nav__link">
      PriorDiscussion
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Projects/" title="Projects" class="md-nav__link">
      Projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Proposals/" title="Proposals" class="md-nav__link">
      Proposals
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ProviderIntegration/" title="ProviderIntegration" class="md-nav__link">
      ProviderIntegration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Questions/" title="Questions" class="md-nav__link">
      Questions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../RaceDetector/" title="RaceDetector" class="md-nav__link">
      RaceDetector
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Range/" title="Range" class="md-nav__link">
      Range
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../RateLimiting/" title="RateLimiting" class="md-nav__link">
      RateLimiting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Rationales/" title="Rationales" class="md-nav__link">
      Rationales
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ResearchPapers/" title="ResearchPapers" class="md-nav__link">
      ResearchPapers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Resolving-Problems-From-Modified-Module-Path/" title="Resolving-Problems-From-Modified-Module-Path" class="md-nav__link">
      Resolving-Problems-From-Modified-Module-Path
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Screencasts/" title="Screencasts" class="md-nav__link">
      Screencasts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SendingMail/" title="SendingMail" class="md-nav__link">
      SendingMail
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SettingGOPATH/" title="SettingGOPATH" class="md-nav__link">
      SettingGOPATH
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SignalHandling/" title="SignalHandling" class="md-nav__link">
      SignalHandling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SimultaneousAssignment/" title="SimultaneousAssignment" class="md-nav__link">
      SimultaneousAssignment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SliceTricks/" title="SliceTricks" class="md-nav__link">
      SliceTricks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SlowBots/" title="SlowBots" class="md-nav__link">
      SlowBots
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Solaris/" title="Solaris" class="md-nav__link">
      Solaris
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Spelling/" title="Spelling" class="md-nav__link">
      Spelling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SQLDrivers/" title="SQLDrivers" class="md-nav__link">
      SQLDrivers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SQLInterface/" title="SQLInterface" class="md-nav__link">
      SQLInterface
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Style/" title="Style" class="md-nav__link">
      Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SubRepositories/" title="SubRepositories" class="md-nav__link">
      SubRepositories
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SuccessStories/" title="SuccessStories" class="md-nav__link">
      SuccessStories
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Switch/" title="Switch" class="md-nav__link">
      Switch
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../TableDrivenTests/" title="TableDrivenTests" class="md-nav__link">
      TableDrivenTests
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../TargetSpecific/" title="TargetSpecific" class="md-nav__link">
      TargetSpecific
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../TestComments/" title="TestComments" class="md-nav__link">
      TestComments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Timeouts/" title="Timeouts" class="md-nav__link">
      Timeouts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Training/" title="Training" class="md-nav__link">
      Training
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../vgo/" title="vgo" class="md-nav__link">
      vgo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WebAccessibilityResourcesAndTips/" title="WebAccessibilityResourcesAndTips" class="md-nav__link">
      WebAccessibilityResourcesAndTips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Well-known-struct-tags/" title="Well-known-struct-tags" class="md-nav__link">
      Well-known-struct-tags
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../windows-scoop-install-go-cli/" title="windows-scoop-install-go-cli" class="md-nav__link">
      windows-scoop-install-go-cli
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WindowsBuild/" title="WindowsBuild" class="md-nav__link">
      WindowsBuild
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WindowsCrossCompiling/" title="WindowsCrossCompiling" class="md-nav__link">
      WindowsCrossCompiling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WindowsDLLs/" title="WindowsDLLs" class="md-nav__link">
      WindowsDLLs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zchee/golang-wiki/edit/master/docs/WebAssembly.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="webassembly">WebAssembly</h1>
<h1 id="introduction">Introduction</h1>
<p>Go 1.11 added an experimental port to WebAssembly. Go 1.12 has
improved some parts of it, with further improvements expected in Go
1.13.</p>
<p>WebAssembly is described on its <a href="https://webassembly.org">home page</a> as:</p>
<blockquote>
<p>WebAssembly (abbreviated <em>Wasm</em>) is a binary instruction format for
a stack-based virtual machine. Wasm is designed as a portable
target for compilation of high-level languages like C/C++/Rust,
enabling deployment on the web for client and server applications.</p>
</blockquote>
<p>If you’re new to WebAssembly read the <a href="https://github.com/golang/go/wiki/WebAssembly#getting-started">Getting Started</a> section, watch some of the <a href="https://github.com/golang/go/wiki/WebAssembly#go-webassembly-talks">Go WebAssembly talks</a>,
then take a look at the <a href="https://github.com/golang/go/wiki/WebAssembly#further-examples">Further examples</a> below.</p>
<h1 id="getting-started">Getting Started</h1>
<p>This page assumes a functional Go 1.11 or newer installation. For
troubleshooting, see the <a href="https://github.com/golang/go/wiki/InstallTroubleshooting">Install Troubleshooting</a>
page.</p>
<p>To compile a basic Go package for the web:</p>
<div class="codehilite"><pre><span></span><code><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="s2">&quot;fmt&quot;</span>

<span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">&quot;Hello, WebAssembly!&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>


<p>Set <code>GOOS=js</code> and <code>GOARCH=wasm</code> environment variables to compile
for WebAssembly:</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nv">GOOS</span><span class="o">=</span>js <span class="nv">GOARCH</span><span class="o">=</span>wasm go build -o main.wasm
</code></pre></div>


<p>That will build the package and produce an executable WebAssembly
module file named main.wasm. The .wasm file extension will make it
easier to serve it over HTTP with the correct Content-Type header
later on.</p>
<p>Note that you can only compile main packages. Otherwise, you will get an object file that cannot be run in WebAssembly. If you have a package that you want to be able to use with WebAssembly, convert it to a main package and build a binary.</p>
<p>To execute main.wasm in a browser, we’ll also need a JavaScript
support file, and a HTML page to connect everything together.</p>
<p>Copy the JavaScript support file:</p>
<div class="codehilite"><pre><span></span><code>$ cp <span class="s2">&quot;</span><span class="k">$(</span>go env GOROOT<span class="k">)</span><span class="s2">/misc/wasm/wasm_exec.js&quot;</span> .
</code></pre></div>


<p>Create an <code>index.html</code> file:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;wasm_exec.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script&gt;</span>
            const go = new Go();
            WebAssembly.instantiateStreaming(fetch(&quot;main.wasm&quot;), go.importObject).then((result) =&gt; {
                go.run(result.instance);
            });
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>


<p>If your browser doesn’t yet support <code>WebAssembly.instantiateStreaming</code>,
you can use a <a href="https://github.com/golang/go/blob/b2fcfc1a50fbd46556f7075f7f1fbf600b5c9e5d/misc/wasm/wasm_exec.html#L17-L22">polyfill</a>.</p>
<p>Then serve the three files (<code>index.html</code>, <code>wasm_exec.js</code>, and
<code>main.wasm</code>) from a web server. For example, with
<a href="https://github.com/shurcooL/goexec#goexec"><code>goexec</code></a>:</p>
<div class="codehilite"><pre><span></span><code><span class="err"># install goexec: go get -u github.com/shurcooL/goexec</span>
<span class="err">$ goexec &#39;http.ListenAndServe(`:8080`, http.FileServer(http.Dir(`.`)))&#39;</span>
</code></pre></div>


<p>Or use your own <a href="https://play.golang.org/p/pZ1f5pICVbV">basic HTTP server command</a>.</p>
<p>Note: for the <code>goexec</code> command to work on Unix-like systems, you must <a href="https://golang.org/doc/install#tarball">add the path environment variable</a> for Go to your shell’s <code>profile</code>. Go’s getting started guide explains this:</p>
<blockquote>
<p>Add /usr/local/go/bin to the PATH environment variable. You can do this by adding this line to your /etc/profile (for a system-wide installation) or $HOME/.profile:</p>
<p><code>export PATH=$PATH:/usr/local/go/bin</code></p>
<p>Note: changes made to a profile file may not apply until the next time you log into your computer</p>
</blockquote>
<p>Finally, navigate to <a href="http://localhost:8080/index.html">http://localhost:8080/index.html</a>, open the
JavaScript debug console, and you should see the output. You can
modify the program, rebuild <code>main.wasm</code>, and refresh to see new
output.</p>
<h1 id="executing-webassembly-with-nodejs">Executing WebAssembly with Node.js</h1>
<p>It’s possible to execute compiled WebAssembly modules using Node.js
rather than a browser, which can be useful for testing and automation.</p>
<p>With Node installed and in your <code>PATH</code>, set the <code>-exec</code> flag to the
location of <code>go_js_wasm_exec</code> when you execute <code>go run</code> or <code>go test</code>.</p>
<p>By default, <code>go_js_wasm_exec</code> is in the <code>misc/wasm</code> directory of your
Go installation.</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nv">GOOS</span><span class="o">=</span>js <span class="nv">GOARCH</span><span class="o">=</span>wasm go run -exec<span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>go env GOROOT<span class="k">)</span><span class="s2">/misc/wasm/go_js_wasm_exec&quot;</span> .
Hello, WebAssembly!
$ <span class="nv">GOOS</span><span class="o">=</span>js <span class="nv">GOARCH</span><span class="o">=</span>wasm go <span class="nb">test</span> -exec<span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>go env GOROOT<span class="k">)</span><span class="s2">/misc/wasm/go_js_wasm_exec&quot;</span>
PASS
ok      example.org/my/pkg  <span class="m">0</span>.800s
</code></pre></div>


<p>Adding <code>go_js_wasm_exec</code> to your <code>PATH</code> will allow <code>go run</code> and <code>go test</code> to work for <code>js/wasm</code> without having to manually provide the <code>-exec</code> flag each time:</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PATH</span><span class="s2">:</span><span class="k">$(</span>go env GOROOT<span class="k">)</span><span class="s2">/misc/wasm&quot;</span>
$ <span class="nv">GOOS</span><span class="o">=</span>js <span class="nv">GOARCH</span><span class="o">=</span>wasm go run .
Hello, WebAssembly!
$ <span class="nv">GOOS</span><span class="o">=</span>js <span class="nv">GOARCH</span><span class="o">=</span>wasm go <span class="nb">test</span>
PASS
ok      example.org/my/pkg  <span class="m">0</span>.800s
</code></pre></div>


<h2 id="running-tests-in-the-browser">Running tests in the browser</h2>
<p>You can also use <a href="https://github.com/agnivade/wasmbrowsertest">wasmbrowsertest</a> to run tests inside your browser. It automates the job of spinning up a webserver and uses headless Chrome to run the tests inside it and relays the logs to your console.</p>
<p>Same as before, just <code>go get github.com/agnivade/wasmbrowsertest</code> to get a binary. Rename that to <code>go_js_wasm_exec</code> and place it to your <code>PATH</code></p>
<div class="codehilite"><pre><span></span><code>$ mv <span class="nv">$GOPATH</span>/bin/wasmbrowsertest <span class="nv">$GOPATH</span>/bin/go_js_wasm_exec
$ <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PATH</span><span class="s2">:</span><span class="nv">$GOPATH</span><span class="s2">/bin&quot;</span>
$ <span class="nv">GOOS</span><span class="o">=</span>js <span class="nv">GOARCH</span><span class="o">=</span>wasm go <span class="nb">test</span>
PASS
ok      example.org/my/pkg  <span class="m">0</span>.800s
</code></pre></div>


<p>Alternatively, use the <code>exec</code> test flag.</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nv">GOOS</span><span class="o">=</span>js <span class="nv">GOARCH</span><span class="o">=</span>wasm go <span class="nb">test</span> -exec<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$GOPATH</span><span class="s2">/bin/wasmbrowsertest&quot;</span>
</code></pre></div>


<h1 id="go-webassembly-talks">Go WebAssembly talks</h1>
<ul>
<li>
<p><a href="https://www.youtube.com/watch?v=4kBvvk2Bzis">Building a Calculator with Go and WebAssembly</a> (<a href="https://tutorialedge.net/golang/go-webassembly-tutorial/">Source code</a>)</p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=iTrx0BbUXI4">Get Going with WebAssembly</a></p>
</li>
<li>
<p><a href="https://talks.godoc.org/github.com/chai2010/awesome-go-zh/chai2010/chai2010-golang-wasm.slide">Go&amp;WebAssembly简介 - by chai2010</a> (Chinese)</p>
</li>
</ul>
<h1 id="interacting-with-the-dom">Interacting with the DOM</h1>
<p>See <a href="https://godoc.org/syscall/js">https://godoc.org/syscall/js</a>.</p>
<p>Also:</p>
<ul>
<li>
<p><a href="https://github.com/gascore/gas">gas - Components based framework for WebAssembly applications</a></p>
</li>
<li>
<p>A PWA-compatible, React-based framework with custom tooling is <a href="https://github.com/maxence-charriere/app">app</a>.</p>
</li>
<li>
<p><a href="https://github.com/vugu/vugu">Vugu</a> is a wasm web UI library featuring HTML layout with Go for app logic, single-file components, rapid dev and prototyping workflow.</p>
</li>
<li>
<p><a href="https://github.com/norunners/vue">vue - The progressive framework for WebAssembly applications.</a></p>
</li>
<li>
<p><a href="https://github.com/dennwc/dom">A library for streamlining DOM manipulation</a>
    is in development.</p>
</li>
<li>
<p>There is a <a href="https://gowebapi.github.io/">binding generator</a> that can be used.</p>
</li>
<li>
<p><a href="https://github.com/norunners/vert">vert - WebAssembly interop between Go and JS values.</a></p>
</li>
<li>
<p><a href="https://github.com/bgokden/gowebian">GoWebian</a> A library to build pages with pure go and add WebAssembly bindings.</p>
</li>
</ul>
<h2 id="canvas">Canvas</h2>
<ul>
<li>
<p>A new <a href="https://github.com/markfarnan/go-canvas">canvas drawing library</a> - seems pretty efficient.</p>
<ul>
<li><a href="https://markfarnan.github.io/go-canvas/">Simple demo</a></li>
</ul>
</li>
</ul>
<h1 id="configuring-fetch-options-while-using-nethttp">Configuring fetch options while using net/http</h1>
<p>You can use the net/http library to make HTTP requests from Go, and they will be converted to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a> calls. However, there isn’t a direct mapping between the fetch <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters">options</a> and the http <a href="https://golang.org/pkg/net/http/#Client">client</a> options. To achieve this, we have some special header values that are recognized as fetch options. They are -</p>
<ul>
<li>
<p><code>js.fetch:mode</code>: An option to the Fetch API mode setting. Valid values are: "cors", "no-cors", "same-origin", navigate". The default is "same-origin".</p>
</li>
<li>
<p><code>js.fetch:credentials</code>: An option to the Fetch API credentials setting. Valid values are: "omit", "same-origin", "include". The default is "same-origin".</p>
</li>
<li>
<p><code>js.fetch:redirect</code>: An option to the Fetch API redirect setting. Valid values are: "follow", "error", "manual". The default is "follow".</p>
</li>
</ul>
<p>So as an example, if we want to set the mode as "cors" while making a request, it will be something like:</p>
<div class="codehilite"><pre><span></span><code><span class="err">req, err := http.NewRequest(&quot;GET&quot;, &quot;http://localhost:8080&quot;, nil)</span>
<span class="err">req.Header.Add(&quot;js.fetch:mode&quot;, &quot;cors&quot;)</span>
<span class="err">if err != nil {</span>
<span class="err">  fmt.Println(err)</span>
<span class="err">  return</span>
<span class="err">}</span>
<span class="err">resp, err := http.DefaultClient.Do(req)</span>
<span class="err">if err != nil {</span>
<span class="err">  fmt.Println(err)</span>
<span class="err">  return</span>
<span class="err">}</span>
<span class="err">defer resp.Body.Close()</span>
<span class="err">// handle the response</span>
</code></pre></div>


<p>Please feel free to subscribe to <a href="https://github.com/golang/go/issues/26769">#26769</a> for more context and possibly newer information.</p>
<h1 id="editor-configuration">Editor configuration</h1>
<ul>
<li><a href="https://github.com/golang/go/wiki/Configuring-GoLand-for-WebAssembly">Configuring GoLand and Intellij Ultimate for WebAssembly</a> - Shows the exact steps needed for getting Wasm working in GoLand and Intellij Ultimate</li>
</ul>
<h1 id="webassembly-in-chrome">WebAssembly in Chrome</h1>
<p>If you run a newer version of Chrome there is a flag (<code>chrome://flags/#enable-webassembly-baseline</code>) to enable Liftoff, their new compiler, which should significantly improve load times. Further info <a href="https://chinagdg.org/2018/08/liftoff-a-new-baseline-compiler-for-webassembly-in-v8/">here</a>.</p>
<h1 id="debugging">Debugging</h1>
<p>WebAssembly doesn’t <strong>yet</strong> have any support for debuggers, so you’ll
need to use the good 'ol <code>println()</code> approach for now to display
output on the JavaScript console.</p>
<p>An official <a href="https://github.com/WebAssembly/debugging">WebAssembly Debugging Subgroup</a>
has been created to address this, with some initial investigation and
proposals under way:</p>
<ul>
<li>
<p><a href="https://fitzgen.github.io/wasm-debugging-capabilities/">WebAssembly Debugging Capabilities Living Standard</a>
    (<a href="https://github.com/fitzgen/wasm-debugging-capabilities">source code for the doc</a>)</p>
</li>
<li>
<p><a href="https://yurydelendik.github.io/webassembly-dwarf/">DWARF for WebAssembly Target</a>
    (<a href="https://github.com/yurydelendik/webassembly-dwarf/">source code for the doc</a>)</p>
</li>
</ul>
<p>Please get involved and help drive this if you’re interested in the Debugger side of things. <img alt="😄" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f604.svg" title=":smile:" /></p>
<h2 id="analysing-the-structure-of-a-webassembly-file">Analysing the structure of a WebAssembly file</h2>
<p><a href="https://wasdk.github.io/wasmcodeexplorer/">WebAssembly Code Explorer</a> is useful for visualising the structure of a WebAssembly file.</p>
<ul>
<li>
<p>Clicking on a hex value to the left will highlight the section it is part of, and the corresponding text representation on the right</p>
</li>
<li>
<p>Clicking a line on the right will highlight the hex byte representations for it on the left</p>
</li>
</ul>
<h1 id="known-bugs">Known bug(s)</h1>
<p>Go releases prior to 1.11.2 <a href="https://github.com/golang/go/issues/27961">have a bug</a> which can generate incorrect wasm code in some (rare) circumstances.</p>
<p>If your Go code compiles to wasm without problem, but produces an error like this when run in the browser:</p>
<div class="codehilite"><pre><span></span><code><span class="n">CompileError</span><span class="o">:</span> <span class="n">wasm</span> <span class="n">validation</span> <span class="n">error</span><span class="o">:</span> <span class="n">at</span> <span class="n">offset</span> <span class="mi">1269295</span><span class="o">:</span> <span class="n">type</span> <span class="n">mismatch</span><span class="o">:</span> <span class="n">expression</span> <span class="n">has</span> <span class="n">type</span> <span class="n">i64</span> <span class="n">but</span> <span class="n">expected</span> <span class="n">f64</span>
</code></pre></div>


<p>Then you’re probably hitting this error.</p>
<p>The solution is to upgrade to Go 1.11.2 or later.</p>
<h1 id="further-examples">Further examples</h1>
<h2 id="general">General</h2>
<ul>
<li>
<p><a href="https://github.com/agnivade/shimmer">Shimmer</a> - Image transformation in wasm using Go. Live <a href="https://agniva.me/shimmer">DEMO</a>.</p>
</li>
<li>
<p><a href="https://wasm-webcam.herokuapp.com">Video filtering</a> - Filters for video from webcam (<a href="https://github.com/aarushik93/webcam-go">source code</a>)</p>
</li>
</ul>
<h2 id="canvas-2d">Canvas (2D)</h2>
<ul>
<li>
<p><a href="https://github.com/stdiopt/gowasm-experiments">GoWasm Experiments</a> - Demonstrates
    working code for several common call types</p>
<ul>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/bouncy">bouncy</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/rainbow-mouse">rainbow-mouse</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/repulsion">repulsion</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/bumpy">bumpy</a> - Uses the 2d canvas, and a 2d physics engine. Click around on the screen to create objects then watch as gravity takes hold!</p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/arty/client">arty</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/hexy">hexy</a> (<strong>new</strong>)</p>
</li>
</ul>
</li>
<li>
<p><a href="https://github.com/djhworld/gomeboycolor-wasm">Gomeboycolor-wasm</a></p>
<ul>
<li>WASM port of an experimental Gameboy Color emulator. The <a href="https://djhworld.github.io/post/2018/09/21/i-ported-my-gameboy-color-emulator-to-webassembly/">matching blog post</a>
    contains some interesting technical insights.</li>
</ul>
</li>
<li>
<p><a href="https://justinclift.github.io/tinygo_canvas2/">TinyGo canvas</a></p>
<ul>
<li>This is compiled with <a href="https://tinygo.org">TinyGo</a> instead of standard go, resulting in a <strong>19.37kB (compressed)</strong> wasm file.</li>
</ul>
</li>
</ul>
<h2 id="database">Database</h2>
<ul>
<li>
<p><a href="https://github.com/pingcap/tidb/pull/13069">TiDB-Wasm</a> - Running TiDB, a golang database in the browser on Wasm.</p>
<ul>
<li><a href="https://tour.tidb.io/">DEMO on running TiDB SQL statements</a>.</li>
</ul>
</li>
</ul>
<h2 id="webgl-canvas-3d">WebGL canvas (3D)</h2>
<ul>
<li>
<p><a href="https://bobcob7.github.io/wasm-basic-triangle/">Basic triangle</a> (<a href="https://github.com/bobcob7/wasm-basic-triangle">source code</a>) - Creates a basic triangle in WebGL</p>
<ul>
<li><a href="https://justinclift.github.io/tinygo-wasm-basic-triangle/">Same thing, ported to TinyGo</a> (<a href="https://github.com/justinclift/tinygo-wasm-basic-triangle">source code</a>) - ~14kB compressed (3% of the size of mainline Go version)</li>
</ul>
</li>
<li>
<p><a href="https://bobcob7.github.io/wasm-rotating-cube/">Rotating cube</a> (<a href="https://github.com/bobcob7/wasm-rotating-cube">source code</a>) - Creates a rotating cube in WebGL</p>
<ul>
<li><a href="https://justinclift.github.io/tinygo-wasm-rotating-cube/">Same thing, ported to TinyGo</a> (<a href="https://github.com/justinclift/tinygo-wasm-rotating-cube">source code</a>) - ~23kB compressed (4% of the size of mainline Go version)</li>
</ul>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/splashy">Splashy</a> (<a href="https://github.com/stdiopt/gowasm-experiments/tree/master/splashy">source code</a>) - Click around on the screen to generate paint…​</p>
</li>
</ul>
<h1 id="reducing-the-size-of-wasm-files">Reducing the size of Wasm files</h1>
<p>At present, Go generates large Wasm files, with the smallest possible size being around ~2MB. If your Go code imports libraries, this file size can increase dramatically. 10MB+ is common.</p>
<p>There are two main ways (for now) to reduce this file size:</p>
<ol>
<li>
<p>Manually compress the .wasm file.</p>
<ol>
<li>
<p>Using <code>gz</code> compression reduces the ~2MB (minimum file size) example WASM file down to around 500kB. It may be better to use <a href="https://github.com/google/zopfli">Zopfli</a> to do the gzip compression, as it gives better results than <code>gzip --best</code>, however it does take much longer to run.</p>
</li>
<li>
<p>Using <a href="https://github.com/google/brotli">Brotli</a> for compression, the file sizes are markedly better than both Zopfli and <code>gzip --best</code>, and compression time is somewhere in between the two, too. This <a href="https://github.com/andybalholm/brotli">(new) Brotli compressor</a> looks reasonable.</p>
</li>
</ol>
</li>
</ol>
<p>Examples from <a href="https://github.com/johanbrandhorst">@johanbrandhorst</a></p>
<p><strong>Example 1</strong></p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>Size</th>
<th>Command</th>
<th>Compression time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>16M</code></p></td>
<td><p><em>(uncompressed size)</em></p></td>
<td><p><em>N/A</em></p></td>
</tr>
<tr class="even">
<td><p><code>2.4M</code></p></td>
<td><p><em><code>brotli -o test.wasm.br test.wasm</code></em></p></td>
<td><p><em>53.6s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>3.3M</code></p></td>
<td><p><em><code>go-zopfli test.wasm</code></em></p></td>
<td><p><em>3m 2.6s</em></p></td>
</tr>
<tr class="even">
<td><p><code>3.4M</code></p></td>
<td><p><em><code>gzip --best test.wasm</code></em></p></td>
<td><p><em>2.5s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>3.4M</code></p></td>
<td><p><em><code>gzip test.wasm</code></em></p></td>
<td><p><em>0.8s</em></p></td>
</tr>
</tbody>
</table>

<p><strong>Example 2</strong></p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>Size</th>
<th>Command</th>
<th>Compression time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>2.3M</code></p></td>
<td><p><em>(uncompressed size)</em></p></td>
<td><p><em>N/A</em></p></td>
</tr>
<tr class="even">
<td><p><code>496K</code></p></td>
<td><p><em><code>brotli -o main.wasm.br main.wasm</code></em></p></td>
<td><p><em>5.7s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>640K</code></p></td>
<td><p><em><code>go-zopfli main.wasm</code></em></p></td>
<td><p><em>16.2s</em></p></td>
</tr>
<tr class="even">
<td><p><code>660K</code></p></td>
<td><p><em><code>gzip --best main.wasm</code></em></p></td>
<td><p><em>0.2s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>668K</code></p></td>
<td><p><em><code>gzip main.wasm</code></em></p></td>
<td><p><em>0.2s</em></p></td>
</tr>
</tbody>
</table>

<p>Use something like <a href="https://github.com/lpar/gzipped">https://github.com/lpar/gzipped</a> to automatically serve compressed files with correct headers, when available.</p>
<p><strong>2.</strong> Use <a href="https://github.com/tinygo-org/tinygo">TinyGo</a> to generate the Wasm file instead.</p>
<p>TinyGo supports a subset of the Go language targeted for embedded devices, and has a WebAssembly output target.</p>
<p>While it does have limitations (not yet a full Go implementation), it is still fairly capable and the generated Wasm files are…​ tiny. ~10kB isn’t unusual. The "Hello world" example is 575 bytes. If you <code>gz -6</code> that, it drops down to 408 bytes. <img alt="😉" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f609.svg" title=":wink:" /></p>
<p>This project is also very actively developed, so its capabilities are expanding out quickly. See <a href="https://tinygo.org/webassembly/webassembly/">https://tinygo.org/webassembly/webassembly/</a> for more information on using WebAssembly with TinyGo.</p>
<h1 id="other-webassembly-resources">Other WebAssembly resources</h1>
<ul>
<li><a href="https://github.com/mbasso/awesome-wasm">Awesome-Wasm</a> - An extensive list of further Wasm resources. Not Go specific.</li>
</ul>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: June 9, 2019
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.c51dfa35.min.js"></script>
      <script src="../assets/javascripts/bundle.eaaa3931.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_CHTML"></script>
      
    
  </body>
</html>