



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Personal fork of Go Programming Language Wiki">
      
      
        <link rel="canonical" href="https://zchee.github.io/golang-wiki/WebAssembly/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>WebAssembly - Go Programming Language Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-89201129-1", "https://zchee.github.io/golang-wiki/")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#webassembly" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://zchee.github.io/golang-wiki/" title="Go Programming Language Wiki" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Go Programming Language Wiki
            </span>
            <span class="md-header-nav__topic">
              
                WebAssembly
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/zchee/golang-wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    zchee/golang-wiki
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://zchee.github.io/golang-wiki/" title="Go Programming Language Wiki" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Go Programming Language Wiki
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/zchee/golang-wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    zchee/golang-wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../Home/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      WhyGo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        WhyGo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../WhyGo/" title="WhyGo" class="md-nav__link">
      WhyGo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Ubuntu/" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../InstallFromSource/" title="Source" class="md-nav__link">
      Source
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Articles/" title="Articles" class="md-nav__link">
      Articles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../AssemblyPolicy/" title="AssemblyPolicy" class="md-nav__link">
      AssemblyPolicy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../AVX512/" title="AVX512" class="md-nav__link">
      AVX512
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Benchmarks/" title="Benchmarks" class="md-nav__link">
      Benchmarks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Blogs/" title="Blogs" class="md-nav__link">
      Blogs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Books/" title="Books" class="md-nav__link">
      Books
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../BoundingResourceUse/" title="BoundingResourceUse" class="md-nav__link">
      BoundingResourceUse
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cgo/" title="cgo" class="md-nav__link">
      cgo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ChromeOS/" title="ChromeOS" class="md-nav__link">
      ChromeOS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CodeReview/" title="CodeReview" class="md-nav__link">
      CodeReview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CodeReviewComments/" title="CodeReviewComments" class="md-nav__link">
      CodeReviewComments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CodeTools/" title="CodeTools" class="md-nav__link">
      CodeTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Comments/" title="Comments" class="md-nav__link">
      Comments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CommitMessage/" title="CommitMessage" class="md-nav__link">
      CommitMessage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CommonMistakes/" title="CommonMistakes" class="md-nav__link">
      CommonMistakes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CompilerOptimizations/" title="CompilerOptimizations" class="md-nav__link">
      CompilerOptimizations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Conferences/" title="Conferences" class="md-nav__link">
      Conferences
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Configuring-GoLand-for-WebAssembly/" title="Configuring-GoLand-for-WebAssembly" class="md-nav__link">
      Configuring-GoLand-for-WebAssembly
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Contributing-to-gopls/" title="Contributing-to-gopls" class="md-nav__link">
      Contributing-to-gopls
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CoreDumpDebugging/" title="CoreDumpDebugging" class="md-nav__link">
      CoreDumpDebugging
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Courses/" title="Courses" class="md-nav__link">
      Courses
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CreatingSubRepository/" title="CreatingSubRepository" class="md-nav__link">
      CreatingSubRepository
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CSSStyleGuide/" title="CSSStyleGuide" class="md-nav__link">
      CSSStyleGuide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CustomPprofProfiles/" title="CustomPprofProfiles" class="md-nav__link">
      CustomPprofProfiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Darwin/" title="Darwin" class="md-nav__link">
      Darwin
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DashboardBuilders/" title="DashboardBuilders" class="md-nav__link">
      DashboardBuilders
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Deprecated/" title="Deprecated" class="md-nav__link">
      Deprecated
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DesignDocuments/" title="DesignDocuments" class="md-nav__link">
      DesignDocuments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DevExp/" title="DevExp" class="md-nav__link">
      DevExp
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Diagnostics/" title="Diagnostics" class="md-nav__link">
      Diagnostics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DragonFly-BSD/" title="DragonFly-BSD" class="md-nav__link">
      DragonFly-BSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Errors/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ErrorValueFAQ/" title="ErrorValueFAQ" class="md-nav__link">
      ErrorValueFAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ExperienceReports/" title="ExperienceReports" class="md-nav__link">
      ExperienceReports
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FileTreeDocumentation/" title="FileTreeDocumentation" class="md-nav__link">
      FileTreeDocumentation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FreeBSD/" title="FreeBSD" class="md-nav__link">
      FreeBSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FromXToGo/" title="FromXToGo" class="md-nav__link">
      FromXToGo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Frozen/" title="Frozen" class="md-nav__link">
      Frozen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Gardening/" title="Gardening" class="md-nav__link">
      Gardening
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GccgoCrossCompilation/" title="GccgoCrossCompilation" class="md-nav__link">
      GccgoCrossCompilation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GcToolchainTricks/" title="GcToolchainTricks" class="md-nav__link">
      GcToolchainTricks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GerritAccess/" title="GerritAccess" class="md-nav__link">
      GerritAccess
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GerritBot/" title="GerritBot" class="md-nav__link">
      GerritBot
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GithubAccess/" title="GithubAccess" class="md-nav__link">
      GithubAccess
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GitHubCodeLayout/" title="GitHubCodeLayout" class="md-nav__link">
      GitHubCodeLayout
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-1.10-Release-Party/" title="Go-1.10-Release-Party" class="md-nav__link">
      Go-1.10-Release-Party
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-1.6-release-party/" title="Go-1.6-release-party" class="md-nav__link">
      Go-1.6-release-party
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-1.8-Release-Party/" title="Go-1.8-Release-Party" class="md-nav__link">
      Go-1.8-Release-Party
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-Community-Slides/" title="Go-Community-Slides" class="md-nav__link">
      Go-Community-Slides
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go-Release-Cycle/" title="Go-Release-Cycle" class="md-nav__link">
      Go-Release-Cycle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go1point1Gotchas/" title="Go1point1Gotchas" class="md-nav__link">
      Go1point1Gotchas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2/" title="Go2" class="md-nav__link">
      Go2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2ErrorHandlingFeedback/" title="Go2ErrorHandlingFeedback" class="md-nav__link">
      Go2ErrorHandlingFeedback
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2ErrorValuesFeedback/" title="Go2ErrorValuesFeedback" class="md-nav__link">
      Go2ErrorValuesFeedback
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Go2GenericsFeedback/" title="Go2GenericsFeedback" class="md-nav__link">
      Go2GenericsFeedback
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoArm/" title="GoArm" class="md-nav__link">
      GoArm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoForCPPProgrammers/" title="GoForCPPProgrammers" class="md-nav__link">
      GoForCPPProgrammers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoGenerateTools/" title="GoGenerateTools" class="md-nav__link">
      GoGenerateTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoGetProxyConfig/" title="GoGetProxyConfig" class="md-nav__link">
      GoGetProxyConfig
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoGetTools/" title="GoGetTools" class="md-nav__link">
      GoGetTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../golang-tools/" title="golang-tools" class="md-nav__link">
      golang-tools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoMips/" title="GoMips" class="md-nav__link">
      GoMips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Gomote/" title="Gomote" class="md-nav__link">
      Gomote
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GOPATH/" title="GOPATH" class="md-nav__link">
      GOPATH
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Gopher/" title="Gopher" class="md-nav__link">
      Gopher
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gopherbot/" title="gopherbot" class="md-nav__link">
      gopherbot
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gopls-integrator-FAQ/" title="gopls-integrator-FAQ" class="md-nav__link">
      gopls-integrator-FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gopls/" title="gopls" class="md-nav__link">
      gopls
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoStrings/" title="GoStrings" class="md-nav__link">
      GoStrings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoTalks/" title="GoTalks" class="md-nav__link">
      GoTalks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoUserGroups/" title="GoUserGroups" class="md-nav__link">
      GoUserGroups
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoUsers/" title="GoUsers" class="md-nav__link">
      GoUsers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GoVsGenerics/" title="GoVsGenerics" class="md-nav__link">
      GoVsGenerics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HandlingIssues/" title="HandlingIssues" class="md-nav__link">
      HandlingIssues
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Hashing/" title="Hashing" class="md-nav__link">
      Hashing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump13/" title="heapdump13" class="md-nav__link">
      heapdump13
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump14/" title="heapdump14" class="md-nav__link">
      heapdump14
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump15-through-heapdump17/" title="heapdump15-through-heapdump17" class="md-nav__link">
      heapdump15-through-heapdump17
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../heapdump15/" title="heapdump15" class="md-nav__link">
      heapdump15
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HostedContinuousIntegration/" title="HostedContinuousIntegration" class="md-nav__link">
      HostedContinuousIntegration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../How-to-ask-for-help/" title="How-to-ask-for-help" class="md-nav__link">
      How-to-ask-for-help
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HowToAsk/" title="HowToAsk" class="md-nav__link">
      HowToAsk
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HttpFetch/" title="HttpFetch" class="md-nav__link">
      HttpFetch
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../HttpStaticFiles/" title="HttpStaticFiles" class="md-nav__link">
      HttpStaticFiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../IDEsAndTextEditorPlugins/" title="IDEsAndTextEditorPlugins" class="md-nav__link">
      IDEsAndTextEditorPlugins
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../InstallTroubleshooting/" title="InstallTroubleshooting" class="md-nav__link">
      InstallTroubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../InterfaceSlice/" title="InterfaceSlice" class="md-nav__link">
      InterfaceSlice
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../InvalidFlag/" title="InvalidFlag" class="md-nav__link">
      InvalidFlag
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Iota/" title="Iota" class="md-nav__link">
      Iota
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../IssueLabels/" title="IssueLabels" class="md-nav__link">
      IssueLabels
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Learn/" title="Learn" class="md-nav__link">
      Learn
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnConcurrency/" title="LearnConcurrency" class="md-nav__link">
      LearnConcurrency
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnErrorHandling/" title="LearnErrorHandling" class="md-nav__link">
      LearnErrorHandling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnServerProgramming/" title="LearnServerProgramming" class="md-nav__link">
      LearnServerProgramming
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LearnTesting/" title="LearnTesting" class="md-nav__link">
      LearnTesting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Linux/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LockOSThread/" title="LockOSThread" class="md-nav__link">
      LockOSThread
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MethodSets/" title="MethodSets" class="md-nav__link">
      MethodSets
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MinimumRequirements/" title="MinimumRequirements" class="md-nav__link">
      MinimumRequirements
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MinorReleases/" title="MinorReleases" class="md-nav__link">
      MinorReleases
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Modules/" title="Modules" class="md-nav__link">
      Modules
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MultipleGoRoots/" title="MultipleGoRoots" class="md-nav__link">
      MultipleGoRoots
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../MutexOrChannel/" title="MutexOrChannel" class="md-nav__link">
      MutexOrChannel
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NativeClient/" title="NativeClient" class="md-nav__link">
      NativeClient
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NetBSD/" title="NetBSD" class="md-nav__link">
      NetBSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NewSpeakers/" title="NewSpeakers" class="md-nav__link">
      NewSpeakers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NoMeToo/" title="NoMeToo" class="md-nav__link">
      NoMeToo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NonEnglish/" title="NonEnglish" class="md-nav__link">
      NonEnglish
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NoPlusOne/" title="NoPlusOne" class="md-nav__link">
      NoPlusOne
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../OlderVersions/" title="OlderVersions" class="md-nav__link">
      OlderVersions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../OpenBSD/" title="OpenBSD" class="md-nav__link">
      OpenBSD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PackageManagementTools/" title="PackageManagementTools" class="md-nav__link">
      PackageManagementTools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PackagePublishing/" title="PackagePublishing" class="md-nav__link">
      PackagePublishing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PanicAndRecover/" title="PanicAndRecover" class="md-nav__link">
      PanicAndRecover
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PerfDashboard/" title="PerfDashboard" class="md-nav__link">
      PerfDashboard
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Performance/" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Plan9/" title="Plan9" class="md-nav__link">
      Plan9
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Podcasts/" title="Podcasts" class="md-nav__link">
      Podcasts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PortingPolicy/" title="PortingPolicy" class="md-nav__link">
      PortingPolicy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PriorDiscussion/" title="PriorDiscussion" class="md-nav__link">
      PriorDiscussion
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Projects/" title="Projects" class="md-nav__link">
      Projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Proposals/" title="Proposals" class="md-nav__link">
      Proposals
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ProviderIntegration/" title="ProviderIntegration" class="md-nav__link">
      ProviderIntegration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Questions/" title="Questions" class="md-nav__link">
      Questions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../RaceDetector/" title="RaceDetector" class="md-nav__link">
      RaceDetector
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Range/" title="Range" class="md-nav__link">
      Range
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../RateLimiting/" title="RateLimiting" class="md-nav__link">
      RateLimiting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Rationales/" title="Rationales" class="md-nav__link">
      Rationales
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ResearchPapers/" title="ResearchPapers" class="md-nav__link">
      ResearchPapers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Resolving-Problems-From-Modified-Module-Path/" title="Resolving-Problems-From-Modified-Module-Path" class="md-nav__link">
      Resolving-Problems-From-Modified-Module-Path
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Screencasts/" title="Screencasts" class="md-nav__link">
      Screencasts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SendingMail/" title="SendingMail" class="md-nav__link">
      SendingMail
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SettingGOPATH/" title="SettingGOPATH" class="md-nav__link">
      SettingGOPATH
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SignalHandling/" title="SignalHandling" class="md-nav__link">
      SignalHandling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SimultaneousAssignment/" title="SimultaneousAssignment" class="md-nav__link">
      SimultaneousAssignment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SliceTricks/" title="SliceTricks" class="md-nav__link">
      SliceTricks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SlowBots/" title="SlowBots" class="md-nav__link">
      SlowBots
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Solaris/" title="Solaris" class="md-nav__link">
      Solaris
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Spelling/" title="Spelling" class="md-nav__link">
      Spelling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SQLDrivers/" title="SQLDrivers" class="md-nav__link">
      SQLDrivers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SQLInterface/" title="SQLInterface" class="md-nav__link">
      SQLInterface
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Style/" title="Style" class="md-nav__link">
      Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SubRepositories/" title="SubRepositories" class="md-nav__link">
      SubRepositories
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SuccessStories/" title="SuccessStories" class="md-nav__link">
      SuccessStories
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Switch/" title="Switch" class="md-nav__link">
      Switch
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../TableDrivenTests/" title="TableDrivenTests" class="md-nav__link">
      TableDrivenTests
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../TargetSpecific/" title="TargetSpecific" class="md-nav__link">
      TargetSpecific
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../TestComments/" title="TestComments" class="md-nav__link">
      TestComments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Timeouts/" title="Timeouts" class="md-nav__link">
      Timeouts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Training/" title="Training" class="md-nav__link">
      Training
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../vgo/" title="vgo" class="md-nav__link">
      vgo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WebAccessibilityResourcesAndTips/" title="WebAccessibilityResourcesAndTips" class="md-nav__link">
      WebAccessibilityResourcesAndTips
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="WebAssembly" class="md-nav__link md-nav__link--active">
      WebAssembly
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Well-known-struct-tags/" title="Well-known-struct-tags" class="md-nav__link">
      Well-known-struct-tags
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../windows-scoop-install-go-cli/" title="windows-scoop-install-go-cli" class="md-nav__link">
      windows-scoop-install-go-cli
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WindowsBuild/" title="WindowsBuild" class="md-nav__link">
      WindowsBuild
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WindowsCrossCompiling/" title="WindowsCrossCompiling" class="md-nav__link">
      WindowsCrossCompiling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../WindowsDLLs/" title="WindowsDLLs" class="md-nav__link">
      WindowsDLLs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zchee/golang-wiki/edit/master/docs/WebAssembly.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="webassembly">WebAssembly</h1>
<h1 id="introduction">Introduction</h1>
<p>Go 1.11 added an experimental port to WebAssembly. Go 1.12 has
improved some parts of it, with further improvements expected in Go
1.13.</p>
<p>WebAssembly is described on its <a href="https://webassembly.org">home page</a> as:</p>
<blockquote>
<p>WebAssembly (abbreviated <em>Wasm</em>) is a binary instruction format for
a stack-based virtual machine. Wasm is designed as a portable
target for compilation of high-level languages like C/C++/Rust,
enabling deployment on the web for client and server applications.</p>
</blockquote>
<p>If you’re new to WebAssembly read the <a href="https://github.com/golang/go/wiki/WebAssembly#getting-started">Getting Started</a> section, watch some of the <a href="https://github.com/golang/go/wiki/WebAssembly#go-webassembly-talks">Go WebAssembly talks</a>,
then take a look at the <a href="https://github.com/golang/go/wiki/WebAssembly#further-examples">Further examples</a> below.</p>
<h1 id="getting-started">Getting Started</h1>
<p>This page assumes a functional Go 1.11 or newer installation. For
troubleshooting, see the <a href="https://github.com/golang/go/wiki/InstallTroubleshooting">Install Troubleshooting</a>
page.</p>
<p>To compile a basic Go package for the web:</p>
<pre><code>package main

import "fmt"

func main() {
    fmt.Println("Hello, WebAssembly!")
}
</code></pre>
<p>Set <code>GOOS=js</code> and <code>GOARCH=wasm</code> environment variables to compile
for WebAssembly:</p>
<pre><code>$ GOOS=js GOARCH=wasm go build -o main.wasm
</code></pre>
<p>That will build the package and produce an executable WebAssembly
module file named main.wasm. The .wasm file extension will make it
easier to serve it over HTTP with the correct Content-Type header
later on.</p>
<p>Note that you can only compile main packages. Otherwise, you will get an object file that cannot be run in WebAssembly. If you have a package that you want to be able to use with WebAssembly, convert it to a main package and build a binary.</p>
<p>To execute main.wasm in a browser, we’ll also need a JavaScript
support file, and a HTML page to connect everything together.</p>
<p>Copy the JavaScript support file:</p>
<pre><code>$ cp "$(go env GOROOT)/misc/wasm/wasm_exec.js" .
</code></pre>
<p>Create an <code>index.html</code> file:</p>
<pre><code>&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset="utf-8"/&gt;
        &lt;script src="wasm_exec.js"&gt;&lt;/script&gt;
        &lt;script&gt;
            const go = new Go();
            WebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then((result) =&gt; {
                go.run(result.instance);
            });
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>If your browser doesn’t yet support <code>WebAssembly.instantiateStreaming</code>,
you can use a <a href="https://github.com/golang/go/blob/b2fcfc1a50fbd46556f7075f7f1fbf600b5c9e5d/misc/wasm/wasm_exec.html#L17-L22">polyfill</a>.</p>
<p>Then serve the three files (<code>index.html</code>, <code>wasm_exec.js</code>, and
<code>main.wasm</code>) from a web server. For example, with
<a href="https://github.com/shurcooL/goexec#goexec"><code>goexec</code></a>:</p>
<pre><code># install goexec: go get -u github.com/shurcooL/goexec
$ goexec 'http.ListenAndServe(`:8080`, http.FileServer(http.Dir(`.`)))'
</code></pre>
<p>Or use your own <a href="https://play.golang.org/p/pZ1f5pICVbV">basic HTTP server command</a>.</p>
<p>Note: for the <code>goexec</code> command to work on Unix-like systems, you must <a href="https://golang.org/doc/install#tarball">add the path environment variable</a> for Go to your shell’s <code>profile</code>. Go’s getting started guide explains this:</p>
<blockquote>
<p>Add /usr/local/go/bin to the PATH environment variable. You can do this by adding this line to your /etc/profile (for a system-wide installation) or $HOME/.profile:</p>
<p><code>export PATH=$PATH:/usr/local/go/bin</code></p>
<p>Note: changes made to a profile file may not apply until the next time you log into your computer</p>
</blockquote>
<p>Finally, navigate to <a href="http://localhost:8080/index.html">http://localhost:8080/index.html</a>, open the
JavaScript debug console, and you should see the output. You can
modify the program, rebuild <code>main.wasm</code>, and refresh to see new
output.</p>
<h1 id="executing-webassembly-with-nodejs">Executing WebAssembly with Node.js</h1>
<p>It’s possible to execute compiled WebAssembly modules using Node.js
rather than a browser, which can be useful for testing and automation.</p>
<p>With Node installed and in your <code>PATH</code>, set the <code>-exec</code> flag to the
location of <code>go_js_wasm_exec</code> when you execute <code>go run</code> or <code>go test</code>.</p>
<p>By default, <code>go_js_wasm_exec</code> is in the <code>misc/wasm</code> directory of your
Go installation.</p>
<pre><code>$ GOOS=js GOARCH=wasm go run -exec="$(go env GOROOT)/misc/wasm/go_js_wasm_exec" .
Hello, WebAssembly!
$ GOOS=js GOARCH=wasm go test -exec="$(go env GOROOT)/misc/wasm/go_js_wasm_exec"
PASS
ok      example.org/my/pkg  0.800s
</code></pre>
<p>Adding <code>go_js_wasm_exec</code> to your <code>PATH</code> will allow <code>go run</code> and <code>go test</code> to work for <code>js/wasm</code> without having to manually provide the <code>-exec</code> flag each time:</p>
<pre><code>$ export PATH="$PATH:$(go env GOROOT)/misc/wasm"
$ GOOS=js GOARCH=wasm go run .
Hello, WebAssembly!
$ GOOS=js GOARCH=wasm go test
PASS
ok      example.org/my/pkg  0.800s
</code></pre>
<h2 id="running-tests-in-the-browser">Running tests in the browser</h2>
<p>You can also use <a href="https://github.com/agnivade/wasmbrowsertest">wasmbrowsertest</a> to run tests inside your browser. It automates the job of spinning up a webserver and uses headless Chrome to run the tests inside it and relays the logs to your console.</p>
<p>Same as before, just <code>go get github.com/agnivade/wasmbrowsertest</code> to get a binary. Rename that to <code>go_js_wasm_exec</code> and place it to your <code>PATH</code></p>
<pre><code>$ mv $GOPATH/bin/wasmbrowsertest $GOPATH/bin/go_js_wasm_exec
$ export PATH="$PATH:$GOPATH/bin"
$ GOOS=js GOARCH=wasm go test
PASS
ok      example.org/my/pkg  0.800s
</code></pre>
<p>Alternatively, use the <code>exec</code> test flag.</p>
<pre><code>$ GOOS=js GOARCH=wasm go test -exec="$GOPATH/bin/wasmbrowsertest"
</code></pre>
<h1 id="go-webassembly-talks">Go WebAssembly talks</h1>
<ul>
<li>
<p><a href="https://www.youtube.com/watch?v=4kBvvk2Bzis">Building a Calculator with Go and WebAssembly</a> (<a href="https://tutorialedge.net/golang/go-webassembly-tutorial/">Source code</a>)</p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=iTrx0BbUXI4">Get Going with WebAssembly</a></p>
</li>
<li>
<p><a href="https://talks.godoc.org/github.com/chai2010/awesome-go-zh/chai2010/chai2010-golang-wasm.slide">Go&amp;WebAssembly简介 - by chai2010</a> (Chinese)</p>
</li>
</ul>
<h1 id="interacting-with-the-dom">Interacting with the DOM</h1>
<p>See <a href="https://godoc.org/syscall/js">https://godoc.org/syscall/js</a>.</p>
<p>Also:</p>
<ul>
<li>
<p><a href="https://github.com/gascore/gas">gas - Components based framework for WebAssembly applications</a></p>
</li>
<li>
<p>A PWA-compatible, React-based framework with custom tooling is <a href="https://github.com/maxence-charriere/app">app</a>.</p>
</li>
<li>
<p><a href="https://github.com/vugu/vugu">Vugu</a> is a wasm web UI library featuring HTML layout with Go for app logic, single-file components, rapid dev and prototyping workflow.</p>
</li>
<li>
<p><a href="https://github.com/norunners/vue">vue - The progressive framework for WebAssembly applications.</a></p>
</li>
<li>
<p><a href="https://github.com/dennwc/dom">A library for streamlining DOM manipulation</a>
    is in development.</p>
</li>
<li>
<p>There is a <a href="https://gowebapi.github.io/">binding generator</a> that can be used.</p>
</li>
<li>
<p><a href="https://github.com/norunners/vert">vert - WebAssembly interop between Go and JS values.</a></p>
</li>
<li>
<p><a href="https://github.com/bgokden/gowebian">GoWebian</a> A library to build pages with pure go and add WebAssembly bindings.</p>
</li>
</ul>
<h2 id="canvas">Canvas</h2>
<ul>
<li>
<p>A new <a href="https://github.com/markfarnan/go-canvas">canvas drawing library</a> - seems pretty efficient.</p>
<ul>
<li><a href="https://markfarnan.github.io/go-canvas/">Simple demo</a></li>
</ul>
</li>
</ul>
<h1 id="configuring-fetch-options-while-using-nethttp">Configuring fetch options while using net/http</h1>
<p>You can use the net/http library to make HTTP requests from Go, and they will be converted to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a> calls. However, there isn’t a direct mapping between the fetch <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters">options</a> and the http <a href="https://golang.org/pkg/net/http/#Client">client</a> options. To achieve this, we have some special header values that are recognized as fetch options. They are -</p>
<ul>
<li>
<p><code>js.fetch:mode</code>: An option to the Fetch API mode setting. Valid values are: "cors", "no-cors", "same-origin", navigate". The default is "same-origin".</p>
</li>
<li>
<p><code>js.fetch:credentials</code>: An option to the Fetch API credentials setting. Valid values are: "omit", "same-origin", "include". The default is "same-origin".</p>
</li>
<li>
<p><code>js.fetch:redirect</code>: An option to the Fetch API redirect setting. Valid values are: "follow", "error", "manual". The default is "follow".</p>
</li>
</ul>
<p>So as an example, if we want to set the mode as "cors" while making a request, it will be something like:</p>
<pre><code>req, err := http.NewRequest("GET", "http://localhost:8080", nil)
req.Header.Add("js.fetch:mode", "cors")
if err != nil {
  fmt.Println(err)
  return
}
resp, err := http.DefaultClient.Do(req)
if err != nil {
  fmt.Println(err)
  return
}
defer resp.Body.Close()
// handle the response
</code></pre>
<p>Please feel free to subscribe to <a href="https://github.com/golang/go/issues/26769">#26769</a> for more context and possibly newer information.</p>
<h1 id="editor-configuration">Editor configuration</h1>
<ul>
<li><a href="https://github.com/golang/go/wiki/Configuring-GoLand-for-WebAssembly">Configuring GoLand and Intellij Ultimate for WebAssembly</a> - Shows the exact steps needed for getting Wasm working in GoLand and Intellij Ultimate</li>
</ul>
<h1 id="webassembly-in-chrome">WebAssembly in Chrome</h1>
<p>If you run a newer version of Chrome there is a flag (<code>chrome://flags/#enable-webassembly-baseline</code>) to enable Liftoff, their new compiler, which should significantly improve load times. Further info <a href="https://chinagdg.org/2018/08/liftoff-a-new-baseline-compiler-for-webassembly-in-v8/">here</a>.</p>
<h1 id="debugging">Debugging</h1>
<p>WebAssembly doesn’t <strong>yet</strong> have any support for debuggers, so you’ll
need to use the good 'ol <code>println()</code> approach for now to display
output on the JavaScript console.</p>
<p>An official <a href="https://github.com/WebAssembly/debugging">WebAssembly Debugging Subgroup</a>
has been created to address this, with some initial investigation and
proposals under way:</p>
<ul>
<li>
<p><a href="https://fitzgen.github.io/wasm-debugging-capabilities/">WebAssembly Debugging Capabilities Living Standard</a>
    (<a href="https://github.com/fitzgen/wasm-debugging-capabilities">source code for the doc</a>)</p>
</li>
<li>
<p><a href="https://yurydelendik.github.io/webassembly-dwarf/">DWARF for WebAssembly Target</a>
    (<a href="https://github.com/yurydelendik/webassembly-dwarf/">source code for the doc</a>)</p>
</li>
</ul>
<p>Please get involved and help drive this if you’re interested in the Debugger side of things. <img alt="😄" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/1f604.svg" title=":smile:" /></p>
<h2 id="analysing-the-structure-of-a-webassembly-file">Analysing the structure of a WebAssembly file</h2>
<p><a href="https://wasdk.github.io/wasmcodeexplorer/">WebAssembly Code Explorer</a> is useful for visualising the structure of a WebAssembly file.</p>
<ul>
<li>
<p>Clicking on a hex value to the left will highlight the section it is part of, and the corresponding text representation on the right</p>
</li>
<li>
<p>Clicking a line on the right will highlight the hex byte representations for it on the left</p>
</li>
</ul>
<h1 id="known-bugs">Known bug(s)</h1>
<p>Go releases prior to 1.11.2 <a href="https://github.com/golang/go/issues/27961">have a bug</a> which can generate incorrect wasm code in some (rare) circumstances.</p>
<p>If your Go code compiles to wasm without problem, but produces an error like this when run in the browser:</p>
<pre><code>CompileError: wasm validation error: at offset 1269295: type mismatch: expression has type i64 but expected f64
</code></pre>
<p>Then you’re probably hitting this error.</p>
<p>The solution is to upgrade to Go 1.11.2 or later.</p>
<h1 id="further-examples">Further examples</h1>
<h2 id="general">General</h2>
<ul>
<li>
<p><a href="https://github.com/agnivade/shimmer">Shimmer</a> - Image transformation in wasm using Go. Live <a href="https://agniva.me/shimmer">DEMO</a>.</p>
</li>
<li>
<p><a href="https://wasm-webcam.herokuapp.com">Video filtering</a> - Filters for video from webcam (<a href="https://github.com/aarushik93/webcam-go">source code</a>)</p>
</li>
</ul>
<h2 id="canvas-2d">Canvas (2D)</h2>
<ul>
<li>
<p><a href="https://github.com/stdiopt/gowasm-experiments">GoWasm Experiments</a> - Demonstrates
    working code for several common call types</p>
<ul>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/bouncy">bouncy</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/rainbow-mouse">rainbow-mouse</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/repulsion">repulsion</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/bumpy">bumpy</a> - Uses the 2d canvas, and a 2d physics engine. Click around on the screen to create objects then watch as gravity takes hold!</p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/arty/client">arty</a></p>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/hexy">hexy</a> (<strong>new</strong>)</p>
</li>
</ul>
</li>
<li>
<p><a href="https://github.com/djhworld/gomeboycolor-wasm">Gomeboycolor-wasm</a></p>
<ul>
<li>WASM port of an experimental Gameboy Color emulator. The <a href="https://djhworld.github.io/post/2018/09/21/i-ported-my-gameboy-color-emulator-to-webassembly/">matching blog post</a>
    contains some interesting technical insights.</li>
</ul>
</li>
<li>
<p><a href="https://justinclift.github.io/tinygo_canvas2/">TinyGo canvas</a></p>
<ul>
<li>This is compiled with <a href="https://tinygo.org">TinyGo</a> instead of standard go, resulting in a <strong>19.37kB (compressed)</strong> wasm file.</li>
</ul>
</li>
</ul>
<h2 id="database">Database</h2>
<ul>
<li>
<p><a href="https://github.com/pingcap/tidb/pull/13069">TiDB-Wasm</a> - Running TiDB, a golang database in the browser on Wasm.</p>
<ul>
<li><a href="https://tour.tidb.io/">DEMO on running TiDB SQL statements</a>.</li>
</ul>
</li>
</ul>
<h2 id="webgl-canvas-3d">WebGL canvas (3D)</h2>
<ul>
<li>
<p><a href="https://bobcob7.github.io/wasm-basic-triangle/">Basic triangle</a> (<a href="https://github.com/bobcob7/wasm-basic-triangle">source code</a>) - Creates a basic triangle in WebGL</p>
<ul>
<li><a href="https://justinclift.github.io/tinygo-wasm-basic-triangle/">Same thing, ported to TinyGo</a> (<a href="https://github.com/justinclift/tinygo-wasm-basic-triangle">source code</a>) - ~14kB compressed (3% of the size of mainline Go version)</li>
</ul>
</li>
<li>
<p><a href="https://bobcob7.github.io/wasm-rotating-cube/">Rotating cube</a> (<a href="https://github.com/bobcob7/wasm-rotating-cube">source code</a>) - Creates a rotating cube in WebGL</p>
<ul>
<li><a href="https://justinclift.github.io/tinygo-wasm-rotating-cube/">Same thing, ported to TinyGo</a> (<a href="https://github.com/justinclift/tinygo-wasm-rotating-cube">source code</a>) - ~23kB compressed (4% of the size of mainline Go version)</li>
</ul>
</li>
<li>
<p><a href="https://stdiopt.github.io/gowasm-experiments/splashy">Splashy</a> (<a href="https://github.com/stdiopt/gowasm-experiments/tree/master/splashy">source code</a>) - Click around on the screen to generate paint…​</p>
</li>
</ul>
<h1 id="reducing-the-size-of-wasm-files">Reducing the size of Wasm files</h1>
<p>At present, Go generates large Wasm files, with the smallest possible size being around ~2MB. If your Go code imports libraries, this file size can increase dramatically. 10MB+ is common.</p>
<p>There are two main ways (for now) to reduce this file size:</p>
<ol>
<li>
<p>Manually compress the .wasm file.</p>
<ol>
<li>
<p>Using <code>gz</code> compression reduces the ~2MB (minimum file size) example WASM file down to around 500kB. It may be better to use <a href="https://github.com/google/zopfli">Zopfli</a> to do the gzip compression, as it gives better results than <code>gzip --best</code>, however it does take much longer to run.</p>
</li>
<li>
<p>Using <a href="https://github.com/google/brotli">Brotli</a> for compression, the file sizes are markedly better than both Zopfli and <code>gzip --best</code>, and compression time is somewhere in between the two, too. This <a href="https://github.com/andybalholm/brotli">(new) Brotli compressor</a> looks reasonable.</p>
</li>
</ol>
</li>
</ol>
<p>Examples from <a href="https://github.com/johanbrandhorst">@johanbrandhorst</a></p>
<p><strong>Example 1</strong></p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>Size</th>
<th>Command</th>
<th>Compression time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>16M</code></p></td>
<td><p><em>(uncompressed size)</em></p></td>
<td><p><em>N/A</em></p></td>
</tr>
<tr class="even">
<td><p><code>2.4M</code></p></td>
<td><p><em><code>brotli -o test.wasm.br test.wasm</code></em></p></td>
<td><p><em>53.6s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>3.3M</code></p></td>
<td><p><em><code>go-zopfli test.wasm</code></em></p></td>
<td><p><em>3m 2.6s</em></p></td>
</tr>
<tr class="even">
<td><p><code>3.4M</code></p></td>
<td><p><em><code>gzip --best test.wasm</code></em></p></td>
<td><p><em>2.5s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>3.4M</code></p></td>
<td><p><em><code>gzip test.wasm</code></em></p></td>
<td><p><em>0.8s</em></p></td>
</tr>
</tbody>
</table>

<p><strong>Example 2</strong></p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>Size</th>
<th>Command</th>
<th>Compression time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>2.3M</code></p></td>
<td><p><em>(uncompressed size)</em></p></td>
<td><p><em>N/A</em></p></td>
</tr>
<tr class="even">
<td><p><code>496K</code></p></td>
<td><p><em><code>brotli -o main.wasm.br main.wasm</code></em></p></td>
<td><p><em>5.7s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>640K</code></p></td>
<td><p><em><code>go-zopfli main.wasm</code></em></p></td>
<td><p><em>16.2s</em></p></td>
</tr>
<tr class="even">
<td><p><code>660K</code></p></td>
<td><p><em><code>gzip --best main.wasm</code></em></p></td>
<td><p><em>0.2s</em></p></td>
</tr>
<tr class="odd">
<td><p><code>668K</code></p></td>
<td><p><em><code>gzip main.wasm</code></em></p></td>
<td><p><em>0.2s</em></p></td>
</tr>
</tbody>
</table>

<p>Use something like <a href="https://github.com/lpar/gzipped">https://github.com/lpar/gzipped</a> to automatically serve compressed files with correct headers, when available.</p>
<p><strong>2.</strong> Use <a href="https://github.com/tinygo-org/tinygo">TinyGo</a> to generate the Wasm file instead.</p>
<p>TinyGo supports a subset of the Go language targeted for embedded devices, and has a WebAssembly output target.</p>
<p>While it does have limitations (not yet a full Go implementation), it is still fairly capable and the generated Wasm files are…​ tiny. ~10kB isn’t unusual. The "Hello world" example is 575 bytes. If you <code>gz -6</code> that, it drops down to 408 bytes. <img alt="😉" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/1f609.svg" title=":wink:" /></p>
<p>This project is also very actively developed, so its capabilities are expanding out quickly. See <a href="https://tinygo.org/webassembly/webassembly/">https://tinygo.org/webassembly/webassembly/</a> for more information on using WebAssembly with TinyGo.</p>
<h1 id="other-webassembly-resources">Other WebAssembly resources</h1>
<ul>
<li><a href="https://github.com/mbasso/awesome-wasm">Awesome-Wasm</a> - An extensive list of further Wasm resources. Not Go specific.</li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../WebAccessibilityResourcesAndTips/" title="WebAccessibilityResourcesAndTips" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                WebAccessibilityResourcesAndTips
              </span>
            </div>
          </a>
        
        
          <a href="../Well-known-struct-tags/" title="Well-known-struct-tags" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Well-known-struct-tags
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>